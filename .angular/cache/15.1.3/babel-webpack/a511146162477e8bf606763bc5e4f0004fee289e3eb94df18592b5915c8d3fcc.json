{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./configuracao.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../service/mensagemService\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"primeng/button\";\nimport * as i7 from \"primeng/inputtext\";\nimport * as i8 from \"primeng/editor\";\nimport * as i9 from \"primeng/api\";\nimport * as i10 from \"../shared/componentes/upload/upload.component\";\nfunction ConfiguracaoComponent_button_31_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function ConfiguracaoComponent_button_31_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.cadastrar());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ConfiguracaoComponent_button_32_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function ConfiguracaoComponent_button_32_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.atualizar());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function () {\n  return {\n    width: \"75%\"\n  };\n};\nconst _c1 = function () {\n  return {\n    \"height\": \"120px\",\n    \"font-size\": \"16px\"\n  };\n};\nexport class ConfiguracaoComponent {\n  constructor(configuracaoService, router, mensagemService, activedRoute) {\n    this.configuracaoService = configuracaoService;\n    this.router = router;\n    this.mensagemService = mensagemService;\n    this.activedRoute = activedRoute;\n    this.configuracao = {\n      nome: '',\n      logo: '',\n      logoDocumento: '',\n      textoPadraoRequerimento: '',\n      textoPadraoOficio: ''\n    };\n    this.titulo = 'Cadastrar configuração';\n  }\n  ngOnInit() {\n    this.configuracaoId = this.activedRoute.snapshot.paramMap.get('id');\n    if (this.configuracaoId !== null) {\n      this.titulo = 'Editar configuração';\n      this.findById();\n    }\n  }\n  cadastrar() {\n    if (this.validaCampos()) {\n      this.configuracaoService.cadastrar(this.configuracao).subscribe(() => {\n        this.mensagemService.mensagemSucesso('Cadastro realizado com sucesso');\n        this.redirect();\n      }, error => {\n        this.mensagemService.mensagemError(error, 'Ocorreu um erro! Erro ao tentar cadastrar');\n      });\n    }\n  }\n  atualizar() {\n    if (this.validaCampos()) {\n      this.configuracaoService.atualizar(this.configuracao).subscribe(() => {\n        this.mensagemService.mensagemSucesso('Registro atualizado com sucesso');\n        this.redirect();\n      }, error => {\n        this.mensagemService.mensagemError(error, 'Ocorreu um erro! Erro ao tentar atualizar');\n      });\n    }\n  }\n  redirect() {\n    this.router.navigate(['configuracoes/editar']);\n  }\n  validaCampos() {\n    if (this.configuracao.nome === null || this.configuracao.nome === '') {\n      this.mensagemService.mensagemAlerta('Por favor, informe o nome');\n      return false;\n    }\n    return true;\n  }\n  findById() {\n    this.configuracaoService.listar().subscribe(response => {\n      this.configuracao = response;\n    }, error => {\n      this.mensagemService.mensagemError(error, 'Ocorreu um erro! Erro ao tentar listar');\n    });\n  }\n}\nConfiguracaoComponent.ɵfac = function ConfiguracaoComponent_Factory(t) {\n  return new (t || ConfiguracaoComponent)(i0.ɵɵdirectiveInject(i1.ConfiguracaoService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.MensagemService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nConfiguracaoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ConfiguracaoComponent,\n  selectors: [[\"app-configuracao\"]],\n  decls: 34,\n  vars: 15,\n  consts: [[1, \"content-wrapper\", \"mt-4\"], [1, \"content\"], [1, \"container-fluid\"], [1, \"card\", \"card-secondary\"], [1, \"card-header\"], [1, \"card-title\"], [1, \"card-body\"], [1, \"row\"], [1, \"col-md-7\"], [\"name\", \"nome\", \"type\", \"text\", \"pInputText\", \"\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-md-7\", \"mt-2\"], [1, \"form-group\"], [\"for\", \"texto\"], [\"name\", \"textoPadraoRequerimento\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-md-5\"], [\"name\", \"textoPadraoOficio\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn-right\", \"mt-4\"], [\"pButton\", \"\", \"type\", \"button\", \"label\", \"Salvar\", \"icon\", \"pi pi-save\", \"class\", \"p-button-success p-button-sm\", 3, \"click\", 4, \"ngIf\"], [\"pButton\", \"\", \"type\", \"bustton\", \"label\", \"Salvar\", \"icon\", \"pi pi-save\", \"class\", \"p-button-success p-button-sm\", 3, \"click\", 4, \"ngIf\"], [\"routerLink\", \"../\", \"pButton\", \"\", \"type\", \"button\", \"label\", \"Cancelar\", \"icon\", \"pi pi-angle-left\", 1, \"p-button-secondary\", \"p-button-sm\", \"ml-2\"], [\"pButton\", \"\", \"type\", \"button\", \"label\", \"Salvar\", \"icon\", \"pi pi-save\", 1, \"p-button-success\", \"p-button-sm\", 3, \"click\"], [\"pButton\", \"\", \"type\", \"bustton\", \"label\", \"Salvar\", \"icon\", \"pi pi-save\", 1, \"p-button-success\", \"p-button-sm\", 3, \"click\"]],\n  template: function ConfiguracaoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"section\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h3\", 5);\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"form\")(8, \"div\", 6)(9, \"div\", 7)(10, \"div\", 8)(11, \"label\");\n      i0.ɵɵtext(12, \"T\\u00EDtulo sistema\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"br\");\n      i0.ɵɵelementStart(14, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function ConfiguracaoComponent_Template_input_ngModelChange_14_listener($event) {\n        return ctx.configuracao.nome = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"div\", 10)(16, \"div\", 11)(17, \"label\", 12);\n      i0.ɵɵtext(18, \"Texto padr\\u00E3o requerimento\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\")(20, \"p-editor\", 13);\n      i0.ɵɵlistener(\"ngModelChange\", function ConfiguracaoComponent_Template_p_editor_ngModelChange_20_listener($event) {\n        return ctx.configuracao.textoPadraoRequerimento = $event;\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(21, \"div\", 14)(22, \"div\", 11)(23, \"label\", 12);\n      i0.ɵɵtext(24, \"Texto padr\\u00E3o of\\u00EDcio\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"div\")(26, \"p-editor\", 15);\n      i0.ɵɵlistener(\"ngModelChange\", function ConfiguracaoComponent_Template_p_editor_ngModelChange_26_listener($event) {\n        return ctx.configuracao.textoPadraoOficio = $event;\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(27, \"div\", 8);\n      i0.ɵɵelement(28, \"app-upload\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(29, \"p-footer\")(30, \"div\", 16);\n      i0.ɵɵtemplate(31, ConfiguracaoComponent_button_31_Template, 1, 0, \"button\", 17);\n      i0.ɵɵtemplate(32, ConfiguracaoComponent_button_32_Template, 1, 0, \"button\", 18);\n      i0.ɵɵelement(33, \"button\", 19);\n      i0.ɵɵelementEnd()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate(ctx.titulo);\n      i0.ɵɵadvance(8);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(12, _c0));\n      i0.ɵɵproperty(\"ngModel\", ctx.configuracao.nome);\n      i0.ɵɵadvance(6);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(13, _c1));\n      i0.ɵɵproperty(\"ngModel\", ctx.configuracao.textoPadraoRequerimento);\n      i0.ɵɵadvance(6);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(14, _c1));\n      i0.ɵɵproperty(\"ngModel\", ctx.configuracao.textoPadraoOficio);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !ctx.configuracao.id);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.configuracao.id);\n    }\n  },\n  dependencies: [i4.NgIf, i2.RouterLink, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm, i6.ButtonDirective, i7.InputText, i8.Editor, i9.Footer, i10.UploadComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ConfiguracaoComponent","constructor","configuracaoService","router","mensagemService","activedRoute","nome","logo","logoDocumento","textoPadraoRequerimento","textoPadraoOficio","ngOnInit","configuracaoId","snapshot","paramMap","get","titulo","findById","cadastrar","validaCampos","configuracao","subscribe","mensagemSucesso","redirect","error","mensagemError","atualizar","navigate","mensagemAlerta","listar","response","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\samue\\Documents\\fullstackC\\requerimento-app\\src\\app\\configuracao\\configuracao.component.html","C:\\Users\\samue\\Documents\\fullstackC\\requerimento-app\\src\\app\\configuracao\\configuracao.component.ts"],"sourcesContent":["<div class=\"content-wrapper mt-4\">\r\n  <section class=\"content\">\r\n    <div class=\"container-fluid\">\r\n\r\n      <div class=\"card card-secondary\">\r\n        <div class=\"card-header\">\r\n          <h3 class=\"card-title\">{{ titulo }}</h3>\r\n\r\n        </div>\r\n        <form>\r\n          <div class=\"card-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-md-7\">\r\n                <label>Título sistema</label>\r\n                <br>\r\n                <input [(ngModel)]=\"configuracao.nome\" name=\"nome\" type=\"text\" pInputText [style]=\"{ width: '75%' }\">\r\n              </div>\r\n\r\n              <div class=\"col-md-7 mt-2\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"texto\">Texto padrão requerimento</label>\r\n                  <div>\r\n                    <p-editor [style]=\"{'height':'120px','font-size':'16px'}\"\r\n                      [(ngModel)]=\"configuracao.textoPadraoRequerimento\" name=\"textoPadraoRequerimento\" required>\r\n                    </p-editor>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"col-md-5\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"texto\">Texto padrão ofício</label>\r\n                  <div>\r\n                    <p-editor [style]=\"{'height':'120px','font-size':'16px'}\"\r\n                      [(ngModel)]=\"configuracao.textoPadraoOficio\" name=\"textoPadraoOficio\" required>\r\n                    </p-editor>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"col-md-7\">\r\n                <app-upload></app-upload>\r\n              </div>\r\n\r\n            </div>\r\n            <p-footer>\r\n              <div class=\"btn-right mt-4\">\r\n                <button (click)=\"cadastrar()\" pButton type=\"button\" label=\"Salvar\" icon=\"pi pi-save\"\r\n                  class=\"p-button-success p-button-sm\" *ngIf=\"!configuracao.id\"></button>\r\n                <button (click)=\"atualizar()\" pButton type=\"bustton\" label=\"Salvar\" icon=\"pi pi-save\"\r\n                  class=\"p-button-success p-button-sm\" *ngIf=\"configuracao.id\"></button>\r\n                <button routerLink=\"../\" pButton type=\"button\" label=\"Cancelar\" icon=\"pi pi-angle-left\"\r\n                  class=\"p-button-secondary p-button-sm ml-2\"></button>\r\n              </div>\r\n            </p-footer>\r\n            <!-- /.col -->\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <!-- /.card-body -->\r\n\r\n\r\n    </div>\r\n    <!-- /.card -->\r\n\r\n    <!-- /.container-fluid -->\r\n  </section>\r\n</div>\r\n","import { ConfiguracaoService } from './configuracao.service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Configuracao } from '../shared/model/configuracao.model';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { MensagemService } from '../service/mensagemService';\r\n\r\n@Component({\r\n  selector: 'app-configuracao',\r\n  templateUrl: './configuracao.component.html',\r\n  styleUrls: ['./configuracao.component.scss'],\r\n})\r\nexport class ConfiguracaoComponent implements OnInit {\r\n  configuracao: Configuracao = {\r\n    nome: '',\r\n    logo: '',\r\n    logoDocumento: '',\r\n    textoPadraoRequerimento: '',\r\n    textoPadraoOficio: '',\r\n  };\r\n  configuracaoId: string | null;\r\n\r\n  titulo = 'Cadastrar configuração';\r\n\r\n  constructor(\r\n    private configuracaoService: ConfiguracaoService,\r\n    private router: Router,\r\n    private mensagemService: MensagemService,\r\n    private activedRoute: ActivatedRoute\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.configuracaoId = this.activedRoute.snapshot.paramMap.get('id');\r\n    if (this.configuracaoId !== null) {\r\n      this.titulo = 'Editar configuração';\r\n      this.findById();\r\n    }\r\n  }\r\n\r\n  cadastrar(): void {\r\n    if (this.validaCampos()) {\r\n      this.configuracaoService.cadastrar(this.configuracao).subscribe(\r\n        () => {\r\n          this.mensagemService.mensagemSucesso(\r\n            'Cadastro realizado com sucesso'\r\n          );\r\n          this.redirect();\r\n        },\r\n        (error) => {\r\n          this.mensagemService.mensagemError(\r\n            error,\r\n            'Ocorreu um erro! Erro ao tentar cadastrar'\r\n          );\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  atualizar(): void {\r\n    if (this.validaCampos()) {\r\n      this.configuracaoService.atualizar(this.configuracao).subscribe(\r\n        () => {\r\n          this.mensagemService.mensagemSucesso(\r\n            'Registro atualizado com sucesso'\r\n          );\r\n          this.redirect();\r\n        },\r\n        (error) => {\r\n          this.mensagemService.mensagemError(\r\n            error,\r\n            'Ocorreu um erro! Erro ao tentar atualizar'\r\n          );\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  private redirect() {\r\n    this.router.navigate(['configuracoes/editar']);\r\n  }\r\n\r\n  private validaCampos(): boolean {\r\n    if (this.configuracao.nome === null || this.configuracao.nome === '') {\r\n      this.mensagemService.mensagemAlerta('Por favor, informe o nome');\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private findById(): void {\r\n    this.configuracaoService.listar().subscribe(\r\n      (response) => {\r\n        this.configuracao = response;\r\n      },\r\n      (error) => {\r\n        this.mensagemService.mensagemError(\r\n          error,\r\n          'Ocorreu um erro! Erro ao tentar listar'\r\n        );\r\n      }\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}