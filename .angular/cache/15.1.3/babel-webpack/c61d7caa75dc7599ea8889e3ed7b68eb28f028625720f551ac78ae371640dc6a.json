{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./../service/mensagemService\";\nimport * as i3 from \"../service/auth.service\";\nimport * as i4 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(router, mensagemService, authService) {\n    this.router = router;\n    this.mensagemService = mensagemService;\n    this.authService = authService;\n    this.credenciais = {\n      email: '',\n      senha: ''\n    };\n  }\n  ngOnInit() {}\n  login() {\n    if (this.validaCampos()) {\n      this.authService.login(this.credenciais).subscribe(response => {\n        this.authService.successLogin(response.headers.get('Authorization').substring(7));\n        this.router.navigateByUrl('dashboard');\n      }, error => {\n        this.mensagemService.mensagemError(error, 'Usuário e/ou senha inválidos!');\n      });\n    }\n  }\n  validaCampos() {\n    if (this.credenciais.email === undefined || this.credenciais.email === '') {\n      this.mensagemService.mensagemAlerta('Por favor, informe o email');\n      return false;\n    }\n    if (this.credenciais.senha === undefined || this.credenciais.senha === '') {\n      this.mensagemService.mensagemAlerta('Por favor, informe a senha');\n      return false;\n    }\n    return true;\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.MensagemService), i0.ɵɵdirectiveInject(i3.AuthService));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 30,\n  vars: 2,\n  consts: [[1, \"login-page\"], [1, \"login-box\"], [1, \"login-logo\"], [1, \"card\"], [1, \"card-body\", \"login-card-body\"], [1, \"login-box-msg\"], [1, \"input-group\", \"mb-3\"], [\"type\", \"email\", \"name\", \"email\", \"placeholder\", \"Email\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"input-group-append\"], [1, \"input-group-text\"], [1, \"fas\", \"fa-envelope\"], [\"type\", \"password\", \"name\", \"senha\", \"placeholder\", \"Senha\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"fas\", \"fa-lock\"], [1, \"row\"], [1, \"col-8\"], [1, \"mb-1\"], [\"href\", \"#\"], [1, \"col-4\"], [1, \"btn\", \"btn-primary\", \"btn-block\", 3, \"click\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"body\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"a\")(4, \"b\");\n      i0.ɵɵtext(5, \"Sistema de \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(6, \"Requerimentos\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 3)(8, \"div\", 4)(9, \"p\", 5);\n      i0.ɵɵtext(10, \"Informe seus dados para acessar o sistema\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"form\")(12, \"div\", 6)(13, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_13_listener($event) {\n        return ctx.credenciais.email = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 8)(15, \"div\", 9);\n      i0.ɵɵelement(16, \"span\", 10);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(17, \"div\", 6)(18, \"input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_18_listener($event) {\n        return ctx.credenciais.senha = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 8)(20, \"div\", 9);\n      i0.ɵɵelement(21, \"span\", 12);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(22, \"div\", 13)(23, \"div\", 14)(24, \"p\", 15)(25, \"a\", 16);\n      i0.ɵɵtext(26, \"Esqueci a senha\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(27, \"div\", 17)(28, \"button\", 18);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_28_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵtext(29, \"Entrar\");\n      i0.ɵɵelementEnd()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"ngModel\", ctx.credenciais.email);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.credenciais.senha);\n    }\n  },\n  dependencies: [i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n  styles: [\".login-logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  color: #007bff;\\n}\\n\\n.mb-1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  color: #fff;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFBO0FBQ0Y7O0FBRUE7RUFDRSxXQUFBO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIubG9naW4tbG9nbyBhIHtcclxuICBjb2xvcjogIzAwN2JmZjtcclxufVxyXG5cclxuLm1iLTEgYSB7XHJcbiAgY29sb3I6ICNmZmY7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;AAYA,OAAM,MAAOA,cAAc;EAMzBC,YACUC,MAAc,EACdC,eAAgC,EAChCC,WAAwB;IAFxB,WAAM,GAANF,MAAM;IACN,oBAAe,GAAfC,eAAe;IACf,gBAAW,GAAXC,WAAW;IARrB,gBAAW,GAAgB;MACzBC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE;KACR;EAME;EAEHC,QAAQ,IAAU;EAElBC,KAAK;IACH,IAAI,IAAI,CAACC,YAAY,EAAE,EAAE;MACvB,IAAI,CAACL,WAAW,CAACI,KAAK,CAAC,IAAI,CAACE,WAAW,CAAC,CAACC,SAAS,CAC/CC,QAAQ,IAAI;QACX,IAAI,CAACR,WAAW,CAACS,YAAY,CAC3BD,QAAQ,CAACE,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC,CAACC,SAAS,CAAC,CAAC,CAAC,CACnD;QACD,IAAI,CAACd,MAAM,CAACe,aAAa,CAAC,WAAW,CAAC;MACxC,CAAC,EACAC,KAAK,IAAI;QACR,IAAI,CAACf,eAAe,CAACgB,aAAa,CAChCD,KAAK,EACL,+BAA+B,CAChC;MACH,CAAC,CACF;;EAEL;EAEQT,YAAY;IAClB,IAAI,IAAI,CAACC,WAAW,CAACL,KAAK,KAAKe,SAAS,IAAI,IAAI,CAACV,WAAW,CAACL,KAAK,KAAK,EAAE,EAAE;MACzE,IAAI,CAACF,eAAe,CAACkB,cAAc,CAAC,4BAA4B,CAAC;MACjE,OAAO,KAAK;;IAGd,IAAI,IAAI,CAACX,WAAW,CAACJ,KAAK,KAAKc,SAAS,IAAI,IAAI,CAACV,WAAW,CAACJ,KAAK,KAAK,EAAE,EAAE;MACzE,IAAI,CAACH,eAAe,CAACkB,cAAc,CAAC,4BAA4B,CAAC;MACjE,OAAO,KAAK;;IAEd,OAAO,IAAI;EACb;;AA5CWrB,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAAsB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCZ3BC,+BAAyB;MAGbA,2BAAW;MAAAA,iBAAI;MAAAA,6BAAa;MAAAA,iBAAI;MAGxCA,8BAAkB;MAEWA,0DAAyC;MAAAA,iBAAI;MAEtEA,6BAAM;MAEKA;QAAA;MAAA,EAA+B;MAAtCA,iBACW;MACXA,+BAAgC;MAE5BA,4BAAqC;MACvCA,iBAAM;MAGVA,+BAA8B;MACrBA;QAAA;MAAA,EAA+B;MAAtCA,iBACW;MACXA,+BAAgC;MAE5BA,4BAAiC;MACnCA,iBAAM;MAGVA,gCAAiB;MAGCA,gCAAe;MAAAA,iBAAI;MAInCA,gCAAmB;MACTA;QAAA,OAASC,WAAO;MAAA,EAAC;MAAmCD,uBAAM;MAAAA,iBAAS;;;MAzBtEA,gBAA+B;MAA/BA,+CAA+B;MAS/BA,eAA+B;MAA/BA,+CAA+B","names":["LoginComponent","constructor","router","mensagemService","authService","email","senha","ngOnInit","login","validaCampos","credenciais","subscribe","response","successLogin","headers","get","substring","navigateByUrl","error","mensagemError","undefined","mensagemAlerta","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\samue\\Documents\\fullstackC\\requerimento-app\\src\\app\\login\\login.component.ts","C:\\Users\\samue\\Documents\\fullstackC\\requerimento-app\\src\\app\\login\\login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { AuthService } from '../service/auth.service';\nimport { Credenciais } from '../shared/model/credenciais.model';\nimport { MensagemService } from './../service/mensagemService';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss'],\n})\nexport class LoginComponent implements OnInit {\n  credenciais: Credenciais = {\n    email: '',\n    senha: '',\n  };\n\n  constructor(\n    private router: Router,\n    private mensagemService: MensagemService,\n    private authService: AuthService\n  ) {}\n\n  ngOnInit(): void {}\n\n  login() {\n    if (this.validaCampos()) {\n      this.authService.login(this.credenciais).subscribe(\n        (response) => {\n          this.authService.successLogin(\n            response.headers.get('Authorization').substring(7)\n          );\n          this.router.navigateByUrl('dashboard');\n        },\n        (error) => {\n          this.mensagemService.mensagemError(\n            error,\n            'Usuário e/ou senha inválidos!'\n          );\n        }\n      );\n    }\n  }\n\n  private validaCampos(): boolean {\n    if (this.credenciais.email === undefined || this.credenciais.email === '') {\n      this.mensagemService.mensagemAlerta('Por favor, informe o email');\n      return false;\n    }\n\n    if (this.credenciais.senha === undefined || this.credenciais.senha === '') {\n      this.mensagemService.mensagemAlerta('Por favor, informe a senha');\n      return false;\n    }\n    return true;\n  }\n}\n","<body class=\"login-page\">\n  <div class=\"login-box\">\n    <div class=\"login-logo\">\n      <a><b>Sistema de </b>Requerimentos</a>\n    </div>\n    <!-- /.login-logo -->\n    <div class=\"card\">\n      <div class=\"card-body login-card-body\">\n        <p class=\"login-box-msg\">Informe seus dados para acessar o sistema</p>\n\n        <form>\n          <div class=\"input-group mb-3\">\n            <input [(ngModel)]=\"credenciais.email\" type=\"email\" name=\"email\" class=\"form-control\" placeholder=\"Email\"\n              required>\n            <div class=\"input-group-append\">\n              <div class=\"input-group-text\">\n                <span class=\"fas fa-envelope\"></span>\n              </div>\n            </div>\n          </div>\n          <div class=\"input-group mb-3\">\n            <input [(ngModel)]=\"credenciais.senha\" type=\"password\" name=\"senha\" class=\"form-control\" placeholder=\"Senha\"\n              required>\n            <div class=\"input-group-append\">\n              <div class=\"input-group-text\">\n                <span class=\"fas fa-lock\"></span>\n              </div>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-8\">\n              <p class=\"mb-1\">\n                <a href=\"#\">Esqueci a senha</a>\n              </p>\n            </div>\n            <!-- /.col -->\n            <div class=\"col-4\">\n              <button (click)=\"login()\" class=\"btn btn-primary btn-block\">Entrar</button>\n            </div>\n            <!-- /.col -->\n          </div>\n        </form>\n      </div>\n      <!-- /.login-card-body -->\n    </div>\n  </div>\n\n</body>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}